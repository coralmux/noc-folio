export interface ChallengeStep {
  prompt: string;
  options: string[];
  correctIndex: number;
  successOutput: string;
  failureOutput: string;
}

export interface ChallengeTemplate {
  id: string;
  incidentType: string;
  category: string;
  title: string;
  description: string;
  emoji: string;
  steps: ChallengeStep[];
}

export const CHALLENGE_TEMPLATES: ChallengeTemplate[] = [
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ NETWORK (10) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 'net_01',
    incidentType: 'ddos',
    category: 'network',
    title: 'DDoS ê³µê²© ëŒ€ì‘',
    description: 'ëŒ€ê·œëª¨ DDoS íŠ¸ë˜í”½ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤! ê¸´ê¸‰ ì°¨ë‹¨ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    emoji: 'ğŸŒŠ',
    steps: [
      {
        prompt: 'ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ì—°ê²°ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ netstat -an | grep SYN_RECV', '$ ls /var/log', '$ whoami'],
        correctIndex: 0,
        successOutput: 'tcp  0  192.168.1.100:80  10.0.0.55:*  SYN_RECV\ntcp  0  192.168.1.100:80  10.0.0.55:*  SYN_RECV\n... (2,847 connections from 10.0.0.55)',
        failureOutput: 'ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ netstatë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ê³µê²© IP(10.0.0.55)ë¥¼ ì°¨ë‹¨í•˜ì„¸ìš”:',
        options: ['$ iptables -A INPUT -s 10.0.0.55 -j DROP', '$ ping 10.0.0.55', '$ traceroute 10.0.0.55'],
        correctIndex: 0,
        successOutput: '[OK] Rule added: DROP all from 10.0.0.55\nSYN_RECV connections: 2,847 â†’ 0',
        failureOutput: 'ê³µê²© IPë¥¼ ì°¨ë‹¨í•˜ë ¤ë©´ iptablesë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.',
      },
      {
        prompt: 'ì°¨ë‹¨ ê·œì¹™ì´ ì ìš©ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ iptables -L -n', '$ cat /etc/hosts', '$ ip addr show'],
        correctIndex: 0,
        successOutput: 'Chain INPUT (policy ACCEPT)\nDROP  all  --  10.0.0.55  0.0.0.0/0\n[OK] DDoS ê³µê²© ì°¨ë‹¨ ì™„ë£Œ!',
        failureOutput: 'iptables ê·œì¹™ì„ í™•ì¸í•˜ë ¤ë©´ iptables -Lì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'net_02',
    incidentType: 'ddos',
    category: 'network',
    title: 'DNS Amplification ê³µê²© ëŒ€ì‘',
    description: 'DNS ì¦í­ ê³µê²©ì´ íƒì§€ë˜ì—ˆìŠµë‹ˆë‹¤! ì™¸ë¶€ DNS ìš”ì²­ì´ í­ì£¼í•©ë‹ˆë‹¤.',
    emoji: 'ğŸ“¡',
    steps: [
      {
        prompt: 'DNS íŠ¸ë˜í”½ ë¶„ì„:',
        options: ['$ tcpdump -i eth0 port 53 -c 20', '$ ping dns.server', '$ hostname -f'],
        correctIndex: 0,
        successOutput: '14:32:01 IP 203.0.113.5.53 > 192.168.1.10.80: UDP, length 4096\n14:32:01 IP 203.0.113.5.53 > 192.168.1.10.80: UDP, length 4096\n... (massive amplified responses)',
        failureOutput: 'DNS íŠ¸ë˜í”½ì„ ìº¡ì²˜í•˜ë ¤ë©´ tcpdumpë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ì™¸ë¶€ DNS ì‘ë‹µì„ ì°¨ë‹¨í•˜ì„¸ìš”:',
        options: ['$ iptables -A INPUT -p udp --sport 53 -j DROP', '$ systemctl stop dns', '$ echo "block" >> /etc/resolv.conf'],
        correctIndex: 0,
        successOutput: '[OK] Inbound DNS responses blocked.\nAmplification attack mitigated.',
        failureOutput: 'ì™¸ë¶€ DNS ì‘ë‹µ(sport 53)ì„ iptablesë¡œ ì°¨ë‹¨í•´ì•¼ í•©ë‹ˆë‹¤.',
      },
    ],
  },
  {
    id: 'net_03',
    incidentType: 'ddos',
    category: 'network',
    title: 'SYN Flood ë°©ì–´',
    description: 'SYN Flood ê³µê²©ìœ¼ë¡œ ì—°ê²° í…Œì´ë¸”ì´ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤!',
    emoji: 'ğŸŒŠ',
    steps: [
      {
        prompt: 'SYN ì¿ í‚¤ë¥¼ í™œì„±í™”í•˜ì„¸ìš”:',
        options: ['$ sysctl -w net.ipv4.tcp_syncookies=1', '$ echo 1 > /proc/sys/net/core/somaxconn', '$ ulimit -n 65535'],
        correctIndex: 0,
        successOutput: 'net.ipv4.tcp_syncookies = 1\n[OK] SYN cookies enabled.',
        failureOutput: 'SYN ì¿ í‚¤ë¥¼ í™œì„±í™”í•˜ë ¤ë©´ sysctlë¡œ tcp_syncookiesë¥¼ ì„¤ì •í•˜ì„¸ìš”.',
      },
      {
        prompt: 'connection tracking í…Œì´ë¸” í¬ê¸°ë¥¼ ëŠ˜ë¦¬ì„¸ìš”:',
        options: ['$ sysctl -w net.nf_conntrack_max=262144', '$ iptables -F', '$ service networking restart'],
        correctIndex: 0,
        successOutput: 'net.nf_conntrack_max = 262144\n[OK] Connection table expanded. SYN flood mitigated.',
        failureOutput: 'conntrack í…Œì´ë¸” í¬ê¸°ë¥¼ ëŠ˜ë¦¬ë ¤ë©´ sysctlì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'net_04',
    incidentType: 'misconfiguration',
    category: 'network',
    title: 'BGP Hijack íƒì§€ ë° ëŒ€ì‘',
    description: 'BGP hijackì´ íƒì§€ë˜ì—ˆìŠµë‹ˆë‹¤! ì˜ëª»ëœ ê²½ë¡œê°€ ê´‘ê³ ë˜ê³  ìˆìŠµë‹ˆë‹¤.',
    emoji: 'ğŸ—ºï¸',
    steps: [
      {
        prompt: 'BGP ë¼ìš°íŒ… í…Œì´ë¸”ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ show ip bgp summary', '$ traceroute 8.8.8.8', '$ dig google.com'],
        correctIndex: 0,
        successOutput: 'Neighbor        AS    State   PfxRcd\n10.0.0.1        64512  Estab   1500\n172.16.0.1      99999  Estab   50000  â† ì˜ì‹¬ìŠ¤ëŸ¬ìš´ AS!',
        failureOutput: 'BGP ìš”ì•½ì„ í™•ì¸í•˜ë ¤ë©´ show ip bgp summaryë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ì˜ì‹¬ìŠ¤ëŸ¬ìš´ í”¼ì–´(AS 99999)ë¥¼ ì°¨ë‹¨í•˜ì„¸ìš”:',
        options: ['$ neighbor 172.16.0.1 shutdown', '$ ip route del default', '$ ping 172.16.0.1'],
        correctIndex: 0,
        successOutput: '[OK] BGP peer 172.16.0.1 (AS 99999) shutdown.\nRouting table converging to legitimate paths.',
        failureOutput: 'BGP í”¼ì–´ë¥¼ ì°¨ë‹¨í•˜ë ¤ë©´ neighbor shutdownì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'net_05',
    incidentType: 'misconfiguration',
    category: 'network',
    title: 'ARP Spoofing íƒì§€',
    description: 'ARP ìŠ¤í‘¸í•‘ ê³µê²©ì´ íƒì§€ë˜ì—ˆìŠµë‹ˆë‹¤! MAC ì£¼ì†Œê°€ ìœ„ì¡°ë˜ê³  ìˆìŠµë‹ˆë‹¤.',
    emoji: 'ğŸ­',
    steps: [
      {
        prompt: 'ARP í…Œì´ë¸”ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ arp -an', '$ ifconfig', '$ route -n'],
        correctIndex: 0,
        successOutput: '? (192.168.1.1) at aa:bb:cc:dd:ee:ff [ether] on eth0\n? (192.168.1.1) at 11:22:33:44:55:66 [ether] on eth0  â† ì¤‘ë³µ!\nGateway MAC ì¶©ëŒ ê°ì§€!',
        failureOutput: 'ARP í…Œì´ë¸”ì„ í™•ì¸í•˜ë ¤ë©´ arp -anì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ì •ì  ARP ì—”íŠ¸ë¦¬ë¥¼ ì„¤ì •í•˜ì„¸ìš”:',
        options: ['$ arp -s 192.168.1.1 aa:bb:cc:dd:ee:ff', '$ ip link set eth0 down', '$ dhclient -r'],
        correctIndex: 0,
        successOutput: '[OK] Static ARP entry set for gateway.\nARP spoofing attack neutralized!',
        failureOutput: 'ì •ì  ARP ì—”íŠ¸ë¦¬ë¥¼ ì„¤ì •í•˜ë ¤ë©´ arp -së¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'net_06',
    incidentType: 'misconfiguration',
    category: 'network',
    title: 'VLAN ì„¤ì • ì˜¤ë¥˜ ìˆ˜ì •',
    description: 'VLAN ì„¤ì •ì´ ì˜ëª»ë˜ì–´ ë„¤íŠ¸ì›Œí¬ê°€ ë¶„ë¦¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤!',
    emoji: 'ğŸ”€',
    steps: [
      {
        prompt: 'í˜„ì¬ VLAN ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ show vlan brief', '$ ip addr show', '$ cat /etc/hosts'],
        correctIndex: 0,
        successOutput: 'VLAN  Name       Status   Ports\n10    MGMT       active   Gi0/1-4\n20    PROD       active   Gi0/1-4  â† í¬íŠ¸ ê²¹ì¹¨!\n30    DEV        active   (none)',
        failureOutput: 'VLAN ì •ë³´ë¥¼ í™•ì¸í•˜ë ¤ë©´ show vlan briefë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'VLAN 20ì˜ í¬íŠ¸ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì¬í• ë‹¹í•˜ì„¸ìš”:',
        options: ['$ switchport access vlan 20 interface Gi0/5-8', '$ vlan delete 20', '$ shutdown interface Gi0/1-4'],
        correctIndex: 0,
        successOutput: '[OK] VLAN 20 ports reassigned to Gi0/5-8.\nNetwork segmentation restored!',
        failureOutput: 'VLAN í¬íŠ¸ë¥¼ ì¬í• ë‹¹í•˜ë ¤ë©´ switchport accessë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'net_07',
    incidentType: 'misconfiguration',
    category: 'network',
    title: 'MTU ë¶ˆì¼ì¹˜ í•´ê²°',
    description: 'MTU ë¶ˆì¼ì¹˜ë¡œ íŒ¨í‚· ë¶„í•  ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê³  ìˆìŠµë‹ˆë‹¤!',
    emoji: 'ğŸ“¦',
    steps: [
      {
        prompt: 'í˜„ì¬ MTU ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ ip link show eth0', '$ ifconfig lo', '$ netstat -s'],
        correctIndex: 0,
        successOutput: '2: eth0: <BROADCAST,UP> mtu 9000 qdisc fq\n   link/ether 00:11:22:33:44:55\n   â† MTU 9000 (ì ë³´ í”„ë ˆì„), ìƒëŒ€ë°©ì€ 1500!',
        failureOutput: 'MTUë¥¼ í™•ì¸í•˜ë ¤ë©´ ip link showë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'MTUë¥¼ í‘œì¤€ê°’ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”:',
        options: ['$ ip link set eth0 mtu 1500', '$ ethtool -s eth0 speed 1000', '$ ip route flush cache'],
        correctIndex: 0,
        successOutput: '[OK] MTU set to 1500 on eth0.\nPacket fragmentation errors resolved!',
        failureOutput: 'MTUë¥¼ ë³€ê²½í•˜ë ¤ë©´ ip link set mtuë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'net_08',
    incidentType: 'cable_cut',
    category: 'network',
    title: 'Port Flapping ëŒ€ì‘',
    description: 'ë„¤íŠ¸ì›Œí¬ í¬íŠ¸ê°€ ë°˜ë³µì ìœ¼ë¡œ up/downë˜ê³  ìˆìŠµë‹ˆë‹¤!',
    emoji: 'ğŸ”Œ',
    steps: [
      {
        prompt: 'ì¸í„°í˜ì´ìŠ¤ ë¡œê·¸ë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ dmesg | grep eth0', '$ uptime', '$ who'],
        correctIndex: 0,
        successOutput: '[14:01:03] eth0: link up\n[14:01:05] eth0: link down\n[14:01:07] eth0: link up\n[14:01:09] eth0: link down\nâ† 2ì´ˆ ê°„ê²©ìœ¼ë¡œ í”Œë˜í•‘!',
        failureOutput: 'ì¸í„°í˜ì´ìŠ¤ ë¡œê·¸ë¥¼ í™•ì¸í•˜ë ¤ë©´ dmesgë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¹„í™œì„±í™”í•˜ê³  ë°±ì—…ìœ¼ë¡œ ì „í™˜í•˜ì„¸ìš”:',
        options: ['$ ip link set eth0 down && ip route add default via 10.0.1.1 dev eth1', '$ reboot', '$ ping -c 3 gateway'],
        correctIndex: 0,
        successOutput: '[OK] eth0 disabled. Traffic rerouted via eth1.\nPort flapping resolved. ì¼€ì´ë¸” êµì²´ í•„ìš”.',
        failureOutput: 'ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¹„í™œì„±í™”í•˜ê³  ë°±ì—… ê²½ë¡œë¥¼ ì„¤ì •í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'net_09',
    incidentType: 'overload',
    category: 'network',
    title: 'ëŒ€ì—­í­ ê³¼ë‹¤ ì‚¬ìš© ëŒ€ì‘',
    description: 'ëŒ€ì—­í­ì´ 95%ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤! íŠ¸ë˜í”½ ì œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.',
    emoji: 'ğŸ“Š',
    steps: [
      {
        prompt: 'ëŒ€ì—­í­ ì‚¬ìš©ëŸ‰ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ iftop -i eth0 -t -s 5', '$ df -h', '$ free -m'],
        correctIndex: 0,
        successOutput: '                 TX       RX\n10.0.0.50   =>  850Mbps  12Mbps  â† ëŒ€ì—­í­ ë…ì !\n10.0.0.51   =>   10Mbps   5Mbps\nTotal:          940Mbps/1Gbps (94%)',
        failureOutput: 'ëŒ€ì—­í­ ì‚¬ìš©ëŸ‰ì„ í™•ì¸í•˜ë ¤ë©´ iftopì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ëŒ€ì—­í­ ë…ì  IPì— QoSë¥¼ ì ìš©í•˜ì„¸ìš”:',
        options: ['$ tc qdisc add dev eth0 root tbf rate 200mbit burst 32kbit', '$ kill -9 $(pidof iftop)', '$ ip route del 10.0.0.50'],
        correctIndex: 0,
        successOutput: '[OK] Traffic shaping applied: 200Mbps limit.\nBandwidth usage: 94% â†’ 52%',
        failureOutput: 'íŠ¸ë˜í”½ ì œí•œì„ ì ìš©í•˜ë ¤ë©´ tc (traffic control)ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'net_10',
    incidentType: 'misconfiguration',
    category: 'network',
    title: 'ë¼ìš°íŒ… ë£¨í”„ í•´ì†Œ',
    description: 'BGP ì„¤ì • ì˜¤ë¥˜ë¡œ ë¼ìš°íŒ… ë£¨í”„ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤!',
    emoji: 'ğŸ”„',
    steps: [
      {
        prompt: 'í˜„ì¬ ë¼ìš°íŒ… í…Œì´ë¸”ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ ip route show', '$ cat /etc/passwd', '$ systemctl status'],
        correctIndex: 0,
        successOutput: 'default via 10.0.0.1 dev eth0\n10.0.0.0/24 via 10.0.0.1 dev eth0  â† ë£¨í”„!\n192.168.1.0/24 dev eth1',
        failureOutput: 'ë¼ìš°íŒ… í…Œì´ë¸”ì„ í™•ì¸í•˜ë ¤ë©´ ip route showë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ì˜ëª»ëœ ë¼ìš°íŒ… ì—”íŠ¸ë¦¬ë¥¼ ì‚­ì œí•˜ì„¸ìš”:',
        options: ['$ ip route del 10.0.0.0/24 via 10.0.0.1', '$ route flush', '$ ifdown eth0'],
        correctIndex: 0,
        successOutput: '[OK] Route deleted: 10.0.0.0/24 via 10.0.0.1\në¼ìš°íŒ… ë£¨í”„ í•´ì†Œë¨!',
        failureOutput: 'íŠ¹ì • ë¼ìš°íŠ¸ë¥¼ ì‚­ì œí•˜ë ¤ë©´ ip route delì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ SECURITY (10) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 'sec_01',
    incidentType: 'ransomware',
    category: 'security',
    title: 'ëœì„¬ì›¨ì–´ ê¸´ê¸‰ ëŒ€ì‘',
    description: 'ëœì„¬ì›¨ì–´ê°€ íƒì§€ë˜ì—ˆìŠµë‹ˆë‹¤! íŒŒì¼ ì•”í˜¸í™”ê°€ ì§„í–‰ ì¤‘ì…ë‹ˆë‹¤!',
    emoji: 'ğŸ”’',
    steps: [
      {
        prompt: 'ì•”í˜¸í™” í”„ë¡œì„¸ìŠ¤ë¥¼ ì°¾ìœ¼ì„¸ìš”:',
        options: ['$ ps aux | grep encrypt', '$ find / -name "*.locked"', '$ cat /var/log/syslog'],
        correctIndex: 0,
        successOutput: 'root  6661  98% /tmp/.hidden/encrypt-all --target /data\nroot  6662  45% /tmp/.hidden/spread --network',
        failureOutput: 'ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ê²€ìƒ‰í•˜ë ¤ë©´ ps auxë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ì•…ì„± í”„ë¡œì„¸ìŠ¤ë¥¼ ì¦‰ì‹œ ì¢…ë£Œí•˜ì„¸ìš”:',
        options: ['$ kill -9 6661 6662', '$ shutdown -h now', '$ logout'],
        correctIndex: 0,
        successOutput: '[OK] Process 6661 terminated.\n[OK] Process 6662 terminated.\nì•”í˜¸í™” ì¤‘ë‹¨ë¨!',
        failureOutput: 'í”„ë¡œì„¸ìŠ¤ë¥¼ ê°•ì œ ì¢…ë£Œí•˜ë ¤ë©´ kill -9ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ì™¸ë¶€ í†µì‹ ì„ ì°¨ë‹¨í•˜ì„¸ìš”:',
        options: ['$ iptables -A OUTPUT -j DROP', '$ echo "blocked"', '$ passwd root'],
        correctIndex: 0,
        successOutput: '[OK] All outbound traffic blocked.\nëœì„¬ì›¨ì–´ C2 í†µì‹  ì°¨ë‹¨ ì™„ë£Œ!',
        failureOutput: 'ì™¸ë¶€ í†µì‹ ì„ ì°¨ë‹¨í•˜ë ¤ë©´ iptables OUTPUT ì²´ì¸ì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'sec_02',
    incidentType: 'ransomware',
    category: 'security',
    title: 'ëœì„¬ì›¨ì–´ ë³€ì¢… ëŒ€ì‘',
    description: 'ìƒˆë¡œìš´ ëœì„¬ì›¨ì–´ ë³€ì¢…ì´ íƒì§€ë˜ì—ˆìŠµë‹ˆë‹¤! ë°±ì—…ì—ì„œ ë³µêµ¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.',
    emoji: 'ğŸ¦ ',
    steps: [
      {
        prompt: 'ê°ì—¼ëœ íŒŒì¼ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ find /data -name "*.encrypted" | wc -l', '$ ls -la /tmp', '$ cat /etc/shadow'],
        correctIndex: 0,
        successOutput: '2,847 files encrypted.\n/data/db/production.sql.encrypted\n/data/web/index.html.encrypted\n...',
        failureOutput: 'ê°ì—¼ëœ íŒŒì¼ì„ ì°¾ìœ¼ë ¤ë©´ find ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ë„¤íŠ¸ì›Œí¬ë¥¼ ê²©ë¦¬í•˜ê³  ë°±ì—…ì—ì„œ ë³µêµ¬í•˜ì„¸ìš”:',
        options: ['$ ip link set eth0 down && rsync -av /backup/latest/ /data/', '$ rm -rf /data/*.encrypted', '$ reboot'],
        correctIndex: 0,
        successOutput: '[OK] Network isolated.\n[OK] Restoring 2,847 files from backup...\n[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% complete!',
        failureOutput: 'ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬ í›„ ë°±ì—…ì—ì„œ ë³µêµ¬í•´ì•¼ í•©ë‹ˆë‹¤.',
      },
    ],
  },
  {
    id: 'sec_03',
    incidentType: 'ddos',
    category: 'security',
    title: 'SSH Brute Force ì°¨ë‹¨',
    description: 'SSH ë¡œê·¸ì¸ ì‹œë„ê°€ ë¶„ë‹¹ 500íšŒë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤!',
    emoji: 'ğŸ”‘',
    steps: [
      {
        prompt: 'ì‹¤íŒ¨í•œ ë¡œê·¸ì¸ ì‹œë„ë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ grep "Failed password" /var/log/auth.log | tail -20', '$ cat /etc/ssh/sshd_config', '$ who'],
        correctIndex: 0,
        successOutput: 'Jan 15 14:32:01 sshd: Failed password from 45.33.32.156 (attempt 487)\nJan 15 14:32:01 sshd: Failed password from 45.33.32.156 (attempt 488)\n...',
        failureOutput: 'SSH ë¡œê·¸ì¸ ì‹¤íŒ¨ ê¸°ë¡ì€ auth.logì—ì„œ í™•ì¸í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ê³µê²© IPë¥¼ ì°¨ë‹¨í•˜ê³  fail2banì„ í™œì„±í™”í•˜ì„¸ìš”:',
        options: ['$ iptables -A INPUT -s 45.33.32.156 -j DROP && systemctl start fail2ban', '$ passwd -l root', '$ service sshd stop'],
        correctIndex: 0,
        successOutput: '[OK] IP 45.33.32.156 blocked.\n[OK] fail2ban activated. SSH brute force mitigated!',
        failureOutput: 'IP ì°¨ë‹¨ê³¼ fail2ban í™œì„±í™”ê°€ í•„ìš”í•©ë‹ˆë‹¤.',
      },
    ],
  },
  {
    id: 'sec_04',
    incidentType: 'ransomware',
    category: 'security',
    title: 'ê¶Œí•œ ìƒìŠ¹ ê³µê²© íƒì§€',
    description: 'ë¹„ì¸ê°€ root ê¶Œí•œ ìƒìŠ¹ì´ íƒì§€ë˜ì—ˆìŠµë‹ˆë‹¤!',
    emoji: 'â¬†ï¸',
    steps: [
      {
        prompt: 'SUID íŒŒì¼ ë³€ê²½ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ find / -perm -4000 -newer /var/log/lastlog', '$ ls /root', '$ cat /etc/group'],
        correctIndex: 0,
        successOutput: '/usr/local/bin/backdoor  â† ì˜ì‹¬ìŠ¤ëŸ¬ìš´ SUID íŒŒì¼!\n/tmp/.exploit/privesc   â† ê³µê²© ë„êµ¬!',
        failureOutput: 'SUID íŒŒì¼ì„ ì°¾ìœ¼ë ¤ë©´ find -perm -4000ì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ì•…ì„± SUID íŒŒì¼ì„ ì œê±°í•˜ì„¸ìš”:',
        options: ['$ rm -f /usr/local/bin/backdoor /tmp/.exploit/privesc', '$ chmod 777 /usr/local/bin', '$ chown root:root /tmp'],
        correctIndex: 0,
        successOutput: '[OK] Malicious SUID binaries removed.\nPrivilege escalation vector eliminated!',
        failureOutput: 'ì•…ì„± íŒŒì¼ì„ ì œê±°í•˜ë ¤ë©´ rm -fë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'sec_05',
    incidentType: 'misconfiguration',
    category: 'security',
    title: 'WAF ì„¤ì • ì˜¤ë¥˜ ìˆ˜ì •',
    description: 'WAF ê·œì¹™ì´ ì˜ëª» ì„¤ì •ë˜ì–´ SQL Injectionì´ í†µê³¼í•©ë‹ˆë‹¤!',
    emoji: 'ğŸ›¡ï¸',
    steps: [
      {
        prompt: 'WAF ë¡œê·¸ì—ì„œ ê³µê²© íŒ¨í„´ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ tail -50 /var/log/modsec_audit.log', '$ cat /etc/nginx/nginx.conf', '$ curl localhost'],
        correctIndex: 0,
        successOutput: 'GET /api/users?id=1\' OR 1=1-- [PASS]\nGET /api/users?id=1; DROP TABLE-- [PASS]\nâ† WAF ìš°íšŒ ì¤‘!',
        failureOutput: 'WAF ê°ì‚¬ ë¡œê·¸ë¥¼ í™•ì¸í•˜ë ¤ë©´ modsec_audit.logë¥¼ ë³´ì„¸ìš”.',
      },
      {
        prompt: 'WAF SQL Injection ê·œì¹™ì„ í™œì„±í™”í•˜ì„¸ìš”:',
        options: ['$ modsecurity-enable --rule sqli_detection', '$ nginx -s reload', '$ iptables -A INPUT -p tcp --dport 80 -j DROP'],
        correctIndex: 0,
        successOutput: '[OK] SQL Injection detection rules enabled.\nWAF test: GET /api/users?id=1\' OR 1=1-- [BLOCKED]\nWAF properly configured!',
        failureOutput: 'WAF ê·œì¹™ì„ í™œì„±í™”í•˜ë ¤ë©´ modsecurity-enableì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'sec_06',
    incidentType: 'misconfiguration',
    category: 'security',
    title: 'SSL ì¸ì¦ì„œ ë§Œë£Œ ëŒ€ì‘',
    description: 'SSL ì¸ì¦ì„œê°€ ë§Œë£Œë˜ì–´ HTTPS ì—°ê²°ì´ ì‹¤íŒ¨í•©ë‹ˆë‹¤!',
    emoji: 'ğŸ“œ',
    steps: [
      {
        prompt: 'ì¸ì¦ì„œ ë§Œë£Œì¼ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ openssl x509 -enddate -noout -in /etc/ssl/server.crt', '$ cat /etc/ssl/server.crt', '$ ls /etc/ssl/'],
        correctIndex: 0,
        successOutput: 'notAfter=Jan 14 00:00:00 2025 GMT\nâ† ì–´ì œ ë§Œë£Œë¨!',
        failureOutput: 'ì¸ì¦ì„œ ë§Œë£Œì¼ì„ í™•ì¸í•˜ë ¤ë©´ openssl x509 -enddateë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ìƒˆ ì¸ì¦ì„œë¥¼ ë°œê¸‰í•˜ê³  ì ìš©í•˜ì„¸ìš”:',
        options: ['$ certbot renew --force-renewal && systemctl reload nginx', '$ rm /etc/ssl/server.crt', '$ openssl version'],
        correctIndex: 0,
        successOutput: '[OK] Certificate renewed successfully.\n[OK] Nginx reloaded with new certificate.\nHTTPS connections restored!',
        failureOutput: 'ì¸ì¦ì„œë¥¼ ê°±ì‹ í•˜ë ¤ë©´ certbot renewë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'sec_07',
    incidentType: 'misconfiguration',
    category: 'security',
    title: 'API Key ìœ ì¶œ ëŒ€ì‘',
    description: 'API Keyê°€ ê³µê°œ ì €ì¥ì†Œì— ë…¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤! ê¸´ê¸‰ êµì²´ê°€ í•„ìš”í•©ë‹ˆë‹¤.',
    emoji: 'ğŸ”',
    steps: [
      {
        prompt: 'ë…¸ì¶œëœ API Keyë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ grep -r "API_KEY" /var/www/app/.env', '$ cat /var/www/app/index.html', '$ curl api.service.com'],
        correctIndex: 0,
        successOutput: 'API_KEY=sk-prod-a8f3b2c1d4e5f6789\nAPI_SECRET=sec-7890abcdef123456\nâ† í”„ë¡œë•ì…˜ í‚¤ê°€ ë…¸ì¶œë¨!',
        failureOutput: 'API Keyë¥¼ ì°¾ìœ¼ë ¤ë©´ grep -rë¡œ .env íŒŒì¼ì„ ê²€ìƒ‰í•˜ì„¸ìš”.',
      },
      {
        prompt: 'API Keyë¥¼ êµì²´í•˜ê³  ì„œë¹„ìŠ¤ë¥¼ ì¬ì‹œì‘í•˜ì„¸ìš”:',
        options: ['$ rotate-api-keys --service prod && systemctl restart app', '$ rm /var/www/app/.env', '$ git push --force'],
        correctIndex: 0,
        successOutput: '[OK] API keys rotated.\n[OK] Old keys invalidated.\n[OK] Application restarted with new keys!',
        failureOutput: 'API Keyë¥¼ êµì²´í•˜ë ¤ë©´ rotate-api-keysë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'sec_08',
    incidentType: 'ransomware',
    category: 'security',
    title: 'ì¹¨ì… íƒì§€ ëŒ€ì‘',
    description: 'IDSì—ì„œ ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ë„¤íŠ¸ì›Œí¬ í™œë™ì´ íƒì§€ë˜ì—ˆìŠµë‹ˆë‹¤!',
    emoji: 'ğŸš¨',
    steps: [
      {
        prompt: 'IDS ì•Œë¦¼ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ tail -30 /var/log/snort/alert', '$ cat /etc/snort/snort.conf', '$ systemctl status snort'],
        correctIndex: 0,
        successOutput: '[**] [1:2100366:8] ET MALWARE Reverse Shell Detected [**]\nSrc: 192.168.1.50:443 â†’ Dst: 45.33.32.0:4444\nâ† C2 í†µì‹  íƒì§€!',
        failureOutput: 'IDS ì•Œë¦¼ì„ í™•ì¸í•˜ë ¤ë©´ snort alert ë¡œê·¸ë¥¼ ë³´ì„¸ìš”.',
      },
      {
        prompt: 'C2 í†µì‹ ì„ ì°¨ë‹¨í•˜ê³  ê°ì—¼ í˜¸ìŠ¤íŠ¸ë¥¼ ê²©ë¦¬í•˜ì„¸ìš”:',
        options: ['$ iptables -A OUTPUT -d 45.33.32.0/24 -j DROP && ip link set eth0:victim down', '$ ping 45.33.32.0', '$ whois 45.33.32.0'],
        correctIndex: 0,
        successOutput: '[OK] C2 IP range blocked.\n[OK] Infected host isolated.\nIntrusion contained!',
        failureOutput: 'C2 í†µì‹ ì„ ì°¨ë‹¨í•˜ê³  í˜¸ìŠ¤íŠ¸ë¥¼ ê²©ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.',
      },
    ],
  },
  {
    id: 'sec_09',
    incidentType: 'ransomware',
    category: 'security',
    title: 'Reverse Shell íƒì§€',
    description: 'ì„œë²„ì—ì„œ ì™¸ë¶€ë¡œ reverse shell ì—°ê²°ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤!',
    emoji: 'ğŸš',
    steps: [
      {
        prompt: 'ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ì•„ì›ƒë°”ìš´ë“œ ì—°ê²°ì„ ì°¾ìœ¼ì„¸ìš”:',
        options: ['$ ss -tnp | grep ESTAB', '$ netstat -r', '$ ip addr'],
        correctIndex: 0,
        successOutput: 'ESTAB  0  0  192.168.1.50:43210  45.33.32.0:4444  users:(("bash",pid=9999))\nâ† bash í”„ë¡œì„¸ìŠ¤ê°€ ì™¸ë¶€ì— ì—°ê²°ë¨!',
        failureOutput: 'TCP ì—°ê²° ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ ss -tnpë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'reverse shell í”„ë¡œì„¸ìŠ¤ë¥¼ ì¢…ë£Œí•˜ì„¸ìš”:',
        options: ['$ kill -9 9999', '$ logout', '$ exit'],
        correctIndex: 0,
        successOutput: '[OK] Process 9999 (bash reverse shell) terminated.\nReverse shell connection closed!',
        failureOutput: 'í”„ë¡œì„¸ìŠ¤ë¥¼ ê°•ì œ ì¢…ë£Œí•˜ë ¤ë©´ kill -9ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'sec_10',
    incidentType: 'misconfiguration',
    category: 'security',
    title: 'ë°©í™”ë²½ ê°ì‚¬',
    description: 'ë°©í™”ë²½ ê·œì¹™ì´ ë„ˆë¬´ í—ˆìš©ì ì…ë‹ˆë‹¤! ë³´ì•ˆ ê°•í™”ê°€ í•„ìš”í•©ë‹ˆë‹¤.',
    emoji: 'ğŸ§±',
    steps: [
      {
        prompt: 'í˜„ì¬ ë°©í™”ë²½ ê·œì¹™ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ iptables -L -n --line-numbers', '$ ufw status', '$ cat /etc/iptables.rules'],
        correctIndex: 0,
        successOutput: 'Chain INPUT (policy ACCEPT)  â† ê¸°ë³¸ ì •ì±…ì´ ACCEPT!\n1  ACCEPT  all  --  0.0.0.0/0  0.0.0.0/0\nâ† ëª¨ë“  íŠ¸ë˜í”½ì„ í—ˆìš©í•˜ê³  ìˆìŒ!',
        failureOutput: 'ë°©í™”ë²½ ê·œì¹™ì„ í™•ì¸í•˜ë ¤ë©´ iptables -L -nì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ê¸°ë³¸ ì •ì±…ì„ DROPìœ¼ë¡œ ë³€ê²½í•˜ê³  í•„ìˆ˜ í¬íŠ¸ë§Œ í—ˆìš©í•˜ì„¸ìš”:',
        options: ['$ iptables -P INPUT DROP && iptables -A INPUT -p tcp --dport 22 -j ACCEPT && iptables -A INPUT -p tcp --dport 443 -j ACCEPT', '$ iptables -F', '$ service iptables stop'],
        correctIndex: 0,
        successOutput: '[OK] Default INPUT policy: DROP\n[OK] Allowed: SSH(22), HTTPS(443)\nFirewall hardened!',
        failureOutput: 'ê¸°ë³¸ ì •ì±…ì„ DROPìœ¼ë¡œ ë°”ê¾¸ê³  í•„ìš”í•œ í¬íŠ¸ë§Œ ì—´ì–´ì•¼ í•©ë‹ˆë‹¤.',
      },
    ],
  },
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ DATABASE (8) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 'db_01',
    incidentType: 'overload',
    category: 'database',
    title: 'Connection Pool ê³ ê°ˆ',
    description: 'DB ì»¤ë„¥ì…˜ í’€ì´ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤! ìƒˆ ì—°ê²°ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.',
    emoji: 'ğŸŠ',
    steps: [
      {
        prompt: 'í˜„ì¬ DB ì—°ê²° ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ mysql -e "SHOW PROCESSLIST"', '$ cat /etc/mysql/my.cnf', '$ df -h /var/lib/mysql'],
        correctIndex: 0,
        successOutput: '+----+------+-------------------+------+\n| Id | User | Host              | Time |\n| 1  | app  | 10.0.0.5:32001    | 3600 | â† ì¢€ë¹„!\n| 2  | app  | 10.0.0.5:32002    | 3600 | â† ì¢€ë¹„!\n... (200/200 connections used)',
        failureOutput: 'DB ì—°ê²°ì„ í™•ì¸í•˜ë ¤ë©´ SHOW PROCESSLISTë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ì¢€ë¹„ ì—°ê²°ì„ ì •ë¦¬í•˜ì„¸ìš”:',
        options: ['$ mysql -e "KILL QUERY" --idle-timeout 300', '$ systemctl restart mysql', '$ rm /var/lib/mysql/*.pid'],
        correctIndex: 0,
        successOutput: '[OK] 187 idle connections terminated.\nActive connections: 200 â†’ 13\nConnection pool restored!',
        failureOutput: 'ìœ íœ´ ì—°ê²°ì„ ì •ë¦¬í•˜ë ¤ë©´ KILL QUERYë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'db_02',
    incidentType: 'overload',
    category: 'database',
    title: 'Deadlock í•´ì†Œ',
    description: 'DBì—ì„œ ë°ë“œë½ì´ ë°œìƒí•˜ì—¬ íŠ¸ëœì­ì…˜ì´ ë©ˆì·„ìŠµë‹ˆë‹¤!',
    emoji: 'ğŸ”—',
    steps: [
      {
        prompt: 'ë°ë“œë½ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ mysql -e "SHOW ENGINE INNODB STATUS" | grep -A 20 "DEADLOCK"', '$ mysql -e "SELECT 1"', '$ tail /var/log/mysql/error.log'],
        correctIndex: 0,
        successOutput: 'LATEST DETECTED DEADLOCK\nTrx 1: WAITING FOR lock on table `orders`\nTrx 2: WAITING FOR lock on table `inventory`\nâ† ìˆœí™˜ ëŒ€ê¸° ë°œìƒ!',
        failureOutput: 'ë°ë“œë½ ì •ë³´ë¥¼ í™•ì¸í•˜ë ¤ë©´ INNODB STATUSë¥¼ ì¡°íšŒí•˜ì„¸ìš”.',
      },
      {
        prompt: 'ë°ë“œë½ì„ í•´ì†Œí•˜ê³  íŠ¸ëœì­ì…˜ì„ ì¬ì‹œë„í•˜ì„¸ìš”:',
        options: ['$ mysql -e "KILL 2" && mysql -e "SET innodb_lock_wait_timeout=5"', '$ mysqldump --all-databases', '$ mysql -e "DROP TABLE orders"'],
        correctIndex: 0,
        successOutput: '[OK] Transaction 2 killed.\n[OK] Lock wait timeout reduced.\nDeadlock resolved!',
        failureOutput: 'ë¸”ë¡œí‚¹ íŠ¸ëœì­ì…˜ì„ KILLí•˜ê³  íƒ€ì„ì•„ì›ƒì„ ì„¤ì •í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'db_03',
    incidentType: 'overload',
    category: 'database',
    title: 'Replication Lag ëŒ€ì‘',
    description: 'DB ë³µì œ ì§€ì—°ì´ 300ì´ˆë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤!',
    emoji: 'â±ï¸',
    steps: [
      {
        prompt: 'ë³µì œ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ mysql -e "SHOW SLAVE STATUS\\G"', '$ mysql -e "SELECT NOW()"', '$ ping db-master'],
        correctIndex: 0,
        successOutput: 'Slave_IO_Running: Yes\nSlave_SQL_Running: Yes\nSeconds_Behind_Master: 347\nâ† 5ë¶„ ì´ìƒ ì§€ì—°!',
        failureOutput: 'ë³µì œ ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ SHOW SLAVE STATUSë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'SQL ìŠ¤ë ˆë“œë¥¼ ìµœì í™”í•˜ì„¸ìš”:',
        options: ['$ mysql -e "SET GLOBAL slave_parallel_workers=8"', '$ mysql -e "STOP SLAVE"', '$ mysql -e "RESET SLAVE ALL"'],
        correctIndex: 0,
        successOutput: '[OK] Parallel replication workers: 1 â†’ 8\nSeconds_Behind_Master: 347 â†’ 12\nReplication catching up!',
        failureOutput: 'ë³‘ë ¬ ë³µì œë¥¼ í™œì„±í™”í•˜ë ¤ë©´ slave_parallel_workersë¥¼ ì„¤ì •í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'db_04',
    incidentType: 'overload',
    category: 'database',
    title: 'Slow Query ë¶„ì„',
    description: 'ì¿¼ë¦¬ ì‘ë‹µ ì‹œê°„ì´ 10ì´ˆë¥¼ ì´ˆê³¼í•˜ëŠ” ìš”ì²­ì´ ë‹¤ìˆ˜ ë°œìƒí•©ë‹ˆë‹¤!',
    emoji: 'ğŸŒ',
    steps: [
      {
        prompt: 'ìŠ¬ë¡œìš° ì¿¼ë¦¬ë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ mysqldumpslow -s t /var/log/mysql/slow.log', '$ mysql -e "SHOW TABLES"', '$ cat /etc/mysql/my.cnf'],
        correctIndex: 0,
        successOutput: 'Count: 847  Time=12.3s\nSELECT * FROM orders WHERE created_at > ? AND status = ?\nâ† ì¸ë±ìŠ¤ ì—†ì´ í’€ ìŠ¤ìº”!',
        failureOutput: 'ìŠ¬ë¡œìš° ì¿¼ë¦¬ë¥¼ ë¶„ì„í•˜ë ¤ë©´ mysqldumpslowë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ëˆ„ë½ëœ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ì„¸ìš”:',
        options: ['$ mysql -e "CREATE INDEX idx_orders_status_date ON orders(status, created_at)"', '$ mysql -e "OPTIMIZE TABLE orders"', '$ mysql -e "TRUNCATE TABLE orders"'],
        correctIndex: 0,
        successOutput: '[OK] Index idx_orders_status_date created.\nQuery time: 12.3s â†’ 0.02s\nSlow queries resolved!',
        failureOutput: 'ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ë ¤ë©´ CREATE INDEXë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'db_05',
    incidentType: 'overload',
    category: 'database',
    title: 'Tablespace ë¶€ì¡± ëŒ€ì‘',
    description: 'DB í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ê°€ 95% ì‚¬ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!',
    emoji: 'ğŸ’¾',
    steps: [
      {
        prompt: 'í…Œì´ë¸”ë³„ ìš©ëŸ‰ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ mysql -e "SELECT table_name, data_length/1024/1024 AS MB FROM information_schema.tables ORDER BY data_length DESC LIMIT 5"', '$ df -h', '$ du -sh /var/lib/mysql'],
        correctIndex: 0,
        successOutput: '+------------------+----------+\n| table_name       | MB       |\n| access_logs      | 45000.0  | â† 45GB!\n| sessions_old     | 12000.0  |\n| temp_exports     |  8000.0  |',
        failureOutput: 'í…Œì´ë¸”ë³„ ìš©ëŸ‰ì„ í™•ì¸í•˜ë ¤ë©´ information_schemaë¥¼ ì¡°íšŒí•˜ì„¸ìš”.',
      },
      {
        prompt: 'ë¶ˆí•„ìš”í•œ ë°ì´í„°ë¥¼ ì •ë¦¬í•˜ì„¸ìš”:',
        options: ['$ mysql -e "TRUNCATE TABLE sessions_old; DROP TABLE temp_exports; DELETE FROM access_logs WHERE created_at < DATE_SUB(NOW(), INTERVAL 30 DAY)"', '$ rm -rf /var/lib/mysql/data', '$ mysql -e "DROP DATABASE production"'],
        correctIndex: 0,
        successOutput: '[OK] sessions_old truncated: 12GB freed\n[OK] temp_exports dropped: 8GB freed\n[OK] Old logs purged: 30GB freed\nTablespace usage: 95% â†’ 42%',
        failureOutput: 'ë¶ˆí•„ìš”í•œ í…Œì´ë¸”ê³¼ ì˜¤ë˜ëœ ë°ì´í„°ë¥¼ ì •ë¦¬í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'db_06',
    incidentType: 'misconfiguration',
    category: 'database',
    title: 'ë°±ì—… ë¬´ê²°ì„± ê²€ì¦',
    description: 'ì •ê¸° ë°±ì—…ì˜ ë¬´ê²°ì„± ê²€ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤!',
    emoji: 'ğŸ—„ï¸',
    steps: [
      {
        prompt: 'ë°±ì—… íŒŒì¼ì„ ê²€ì¦í•˜ì„¸ìš”:',
        options: ['$ mysqlcheck --check-upgrade --all-databases && md5sum /backup/latest.sql.gz', '$ ls /backup', '$ cat /backup/latest.sql.gz'],
        correctIndex: 0,
        successOutput: 'production.orders      OK\nproduction.users       OK\nmd5: a1b2c3d4e5 /backup/latest.sql.gz\nâ† ì²´í¬ì„¬ ë¶ˆì¼ì¹˜! ì˜ˆìƒ: f6g7h8i9j0',
        failureOutput: 'ë°±ì—… ë¬´ê²°ì„±ì„ ê²€ì¦í•˜ë ¤ë©´ mysqlcheckì™€ md5sumì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ìƒˆë¡œìš´ ì „ì²´ ë°±ì—…ì„ ìƒì„±í•˜ì„¸ìš”:',
        options: ['$ mysqldump --all-databases --single-transaction | gzip > /backup/emergency.sql.gz', '$ cp /backup/latest.sql.gz /backup/latest2.sql.gz', '$ rm /backup/latest.sql.gz'],
        correctIndex: 0,
        successOutput: '[OK] Full backup created: /backup/emergency.sql.gz (2.1GB)\n[OK] Checksum verified: a1b2c3d4e5\nBackup integrity restored!',
        failureOutput: 'ìƒˆ ë°±ì—…ì„ ìƒì„±í•˜ë ¤ë©´ mysqldumpë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'db_07',
    incidentType: 'overload',
    category: 'database',
    title: 'ì¸ë±ìŠ¤ ë¦¬ë¹Œë“œ',
    description: 'ì¸ë±ìŠ¤ íŒŒí¸í™”ìœ¨ì´ 80%ë¥¼ ì´ˆê³¼í•˜ì—¬ ì„±ëŠ¥ì´ ì €í•˜ë©ë‹ˆë‹¤!',
    emoji: 'ğŸ”¨',
    steps: [
      {
        prompt: 'ì¸ë±ìŠ¤ íŒŒí¸í™” ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ mysql -e "SELECT index_name, stat_value AS pages FROM mysql.innodb_index_stats WHERE table_name=\'orders\'"', '$ mysql -e "DESCRIBE orders"', '$ mysql -e "SHOW INDEXES FROM orders"'],
        correctIndex: 0,
        successOutput: '+------------------+-------+\n| index_name       | pages |\n| PRIMARY          | 50000 | â† ì˜ˆìƒ: 10000\n| idx_created_at   | 30000 | â† ì˜ˆìƒ: 5000\níŒŒí¸í™”ìœ¨: 80%!',
        failureOutput: 'ì¸ë±ìŠ¤ í†µê³„ë¥¼ í™•ì¸í•˜ë ¤ë©´ innodb_index_statsë¥¼ ì¡°íšŒí•˜ì„¸ìš”.',
      },
      {
        prompt: 'í…Œì´ë¸”ì„ ìµœì í™”í•˜ì—¬ ì¸ë±ìŠ¤ë¥¼ ë¦¬ë¹Œë“œí•˜ì„¸ìš”:',
        options: ['$ mysql -e "ALTER TABLE orders ENGINE=InnoDB"', '$ mysql -e "DROP INDEX PRIMARY ON orders"', '$ mysql -e "ANALYZE TABLE orders"'],
        correctIndex: 0,
        successOutput: '[OK] Table orders rebuilt.\nIndex pages: 50000 â†’ 10200\nQuery performance restored!',
        failureOutput: 'ì¸ë±ìŠ¤ë¥¼ ë¦¬ë¹Œë“œí•˜ë ¤ë©´ ALTER TABLE ENGINE=InnoDBë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'db_08',
    incidentType: 'memory_leak',
    category: 'database',
    title: 'ìºì‹œ ë¬´íš¨í™” ëŒ€ì‘',
    description: 'Redis ìºì‹œ ë©”ëª¨ë¦¬ê°€ ê°€ë“ ì°¨ì„œ evictionì´ ë°œìƒí•©ë‹ˆë‹¤!',
    emoji: 'ğŸ§Š',
    steps: [
      {
        prompt: 'Redis ë©”ëª¨ë¦¬ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ redis-cli info memory', '$ redis-cli ping', '$ cat /etc/redis/redis.conf'],
        correctIndex: 0,
        successOutput: 'used_memory_human: 15.8G\nmaxmemory_human: 16G\nevicted_keys: 45892\nâ† ë©”ëª¨ë¦¬ í•œê³„ì— ë„ë‹¬!',
        failureOutput: 'Redis ë©”ëª¨ë¦¬ë¥¼ í™•ì¸í•˜ë ¤ë©´ redis-cli info memoryë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ë§Œë£Œëœ í‚¤ë¥¼ ì •ë¦¬í•˜ê³  TTL ì •ì±…ì„ ì„¤ì •í•˜ì„¸ìš”:',
        options: ['$ redis-cli --scan --pattern "session:*" | xargs redis-cli del && redis-cli config set maxmemory-policy allkeys-lru', '$ redis-cli flushall', '$ systemctl stop redis'],
        correctIndex: 0,
        successOutput: '[OK] 12,847 expired session keys deleted.\n[OK] Eviction policy: allkeys-lru\nMemory: 15.8G â†’ 4.2G',
        failureOutput: 'ë§Œë£Œëœ í‚¤ë¥¼ ì‚­ì œí•˜ê³  eviction ì •ì±…ì„ ì„¤ì •í•˜ì„¸ìš”.',
      },
    ],
  },
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ CLOUD (8) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 'cloud_01',
    incidentType: 'overload',
    category: 'cloud',
    title: 'Pod CrashLoopBackOff ëŒ€ì‘',
    description: 'Kubernetes Podê°€ ë°˜ë³µì ìœ¼ë¡œ í¬ë˜ì‹œë©ë‹ˆë‹¤!',
    emoji: 'ğŸ”',
    steps: [
      {
        prompt: 'Pod ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ kubectl get pods --all-namespaces | grep CrashLoop', '$ docker ps', '$ systemctl status kubelet'],
        correctIndex: 0,
        successOutput: 'NAMESPACE   NAME                  READY   STATUS             RESTARTS\nproduction  api-server-7b4d-x2f   0/1     CrashLoopBackOff   47\nproduction  api-server-7b4d-k9m   0/1     CrashLoopBackOff   45',
        failureOutput: 'Pod ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ kubectl get podsë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'Pod ë¡œê·¸ë¥¼ í™•ì¸í•˜ê³  ì¬ë°°í¬í•˜ì„¸ìš”:',
        options: ['$ kubectl logs api-server-7b4d-x2f -p && kubectl rollout restart deployment/api-server', '$ kubectl delete pod --all', '$ docker restart api-server'],
        correctIndex: 0,
        successOutput: 'Error: OOM Killed (memory limit: 256Mi, usage: 512Mi)\n[OK] Deployment api-server restarted with increased limits.\nPods recovering!',
        failureOutput: 'Pod ë¡œê·¸ë¥¼ í™•ì¸í•˜ê³  deploymentë¥¼ ì¬ì‹œì‘í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'cloud_02',
    incidentType: 'overload',
    category: 'cloud',
    title: 'Auto-scaling ì¥ì•  ëŒ€ì‘',
    description: 'HPAê°€ ì‘ë™í•˜ì§€ ì•Šì•„ íŠ¸ë˜í”½ ì¦ê°€ì— ëŒ€ì‘í•˜ì§€ ëª»í•©ë‹ˆë‹¤!',
    emoji: 'ğŸ“ˆ',
    steps: [
      {
        prompt: 'HPA ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ kubectl get hpa', '$ kubectl get nodes', '$ kubectl cluster-info'],
        correctIndex: 0,
        successOutput: 'NAME      REFERENCE          TARGETS   MINPODS  MAXPODS  REPLICAS\napi-hpa   Deployment/api     95%/50%   2        10       2\nâ† íƒ€ê²Ÿ ì´ˆê³¼ì¸ë° ìŠ¤ì¼€ì¼ë§ ì•ˆë¨!',
        failureOutput: 'HPA ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ kubectl get hpaë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'metrics-serverë¥¼ ì¬ì‹œì‘í•˜ê³  ìˆ˜ë™ ìŠ¤ì¼€ì¼ì—…í•˜ì„¸ìš”:',
        options: ['$ kubectl rollout restart deployment/metrics-server -n kube-system && kubectl scale deployment/api --replicas=6', '$ kubectl delete hpa api-hpa', '$ kubectl drain node1'],
        correctIndex: 0,
        successOutput: '[OK] metrics-server restarted.\n[OK] api scaled to 6 replicas.\nCPU usage per pod: 95% â†’ 32%',
        failureOutput: 'metrics-serverë¥¼ ì¬ì‹œì‘í•˜ê³  ìˆ˜ë™ìœ¼ë¡œ ìŠ¤ì¼€ì¼ë§í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'cloud_03',
    incidentType: 'overload',
    category: 'cloud',
    title: 'ì¸ìŠ¤í„´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜',
    description: 'í˜¸ìŠ¤íŠ¸ ë…¸ë“œì— í•˜ë“œì›¨ì–´ ì¥ì• ê°€ ì˜ˆê³ ë˜ì—ˆìŠµë‹ˆë‹¤! VMì„ ì´ì „í•˜ì„¸ìš”.',
    emoji: 'ğŸšš',
    steps: [
      {
        prompt: 'ì˜í–¥ë°›ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ kubectl get pods -o wide --field-selector spec.nodeName=node-03', '$ kubectl get nodes', '$ kubectl top nodes'],
        correctIndex: 0,
        successOutput: 'NAME                    NODE     STATUS\ndb-primary-0            node-03  Running\napi-server-7b4d-x2f     node-03  Running\ncache-redis-0           node-03  Running\nâ† 3ê°œ ì¤‘ìš” Podê°€ node-03ì— ìˆìŒ!',
        failureOutput: 'íŠ¹ì • ë…¸ë“œì˜ Podë¥¼ í™•ì¸í•˜ë ¤ë©´ --field-selectorë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ë…¸ë“œë¥¼ drainí•˜ì—¬ Podë¥¼ ì•ˆì „í•˜ê²Œ ì´ì „í•˜ì„¸ìš”:',
        options: ['$ kubectl drain node-03 --ignore-daemonsets --delete-emptydir-data', '$ kubectl delete node node-03', '$ kubectl cordon node-03'],
        correctIndex: 0,
        successOutput: '[OK] node-03 cordoned.\n[OK] db-primary-0 â†’ node-01\n[OK] api-server-7b4d-x2f â†’ node-02\n[OK] cache-redis-0 â†’ node-01\nMigration complete!',
        failureOutput: 'ë…¸ë“œë¥¼ ì•ˆì „í•˜ê²Œ ë¹„ìš°ë ¤ë©´ kubectl drainì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'cloud_04',
    incidentType: 'misconfiguration',
    category: 'cloud',
    title: 'Volume Mount ì˜¤ë¥˜ ìˆ˜ì •',
    description: 'PersistentVolumeì´ ë§ˆìš´íŠ¸ë˜ì§€ ì•Šì•„ ë°ì´í„° ì ‘ê·¼ì´ ë¶ˆê°€í•©ë‹ˆë‹¤!',
    emoji: 'ğŸ’¿',
    steps: [
      {
        prompt: 'PV/PVC ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ kubectl get pv,pvc -A', '$ kubectl get storageclass', '$ df -h'],
        correctIndex: 0,
        successOutput: 'NAME     CAPACITY  STATUS    CLAIM\npv-data  100Gi     Released  â† Bound ì•„ë‹˜!\n\nNAME     STATUS   VOLUME\ndb-pvc   Pending  â† PV ëŒ€ê¸° ì¤‘!',
        failureOutput: 'PV/PVC ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ kubectl get pv,pvcë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'PVë¥¼ ì¬ë°”ì¸ë”©í•˜ì„¸ìš”:',
        options: ['$ kubectl patch pv pv-data -p \'{"spec":{"claimRef":null}}\' && kubectl delete pod db-primary-0', '$ kubectl delete pv pv-data', '$ kubectl delete pvc db-pvc'],
        correctIndex: 0,
        successOutput: '[OK] PV pv-data claim reference cleared.\n[OK] Pod db-primary-0 recreated.\nPVC bound to PV successfully!',
        failureOutput: 'PVë¥¼ ì¬ë°”ì¸ë”©í•˜ë ¤ë©´ claimRefë¥¼ ì´ˆê¸°í™”í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'cloud_05',
    incidentType: 'memory_leak',
    category: 'cloud',
    title: 'Container OOM ëŒ€ì‘',
    description: 'ì»¨í…Œì´ë„ˆê°€ ë©”ëª¨ë¦¬ ì œí•œì„ ì´ˆê³¼í•˜ì—¬ OOM Killedë©ë‹ˆë‹¤!',
    emoji: 'ğŸ’¥',
    steps: [
      {
        prompt: 'ì»¨í…Œì´ë„ˆ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ kubectl top pods --sort-by=memory', '$ docker stats', '$ free -h'],
        correctIndex: 0,
        successOutput: 'NAME                    CPU   MEMORY\napi-server-7b4d-x2f     50m   490Mi/512Mi  â† 96%!\nworker-batch-1a2b       20m   480Mi/512Mi  â† 94%!\nâ† OOM ì„ë°•!',
        failureOutput: 'Pod ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ í™•ì¸í•˜ë ¤ë©´ kubectl top podsë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ë©”ëª¨ë¦¬ ì œí•œì„ ëŠ˜ë¦¬ê³  ì¬ë°°í¬í•˜ì„¸ìš”:',
        options: ['$ kubectl set resources deployment/api-server --limits=memory=1Gi', '$ kubectl delete deployment api-server', '$ kubectl scale deployment/api-server --replicas=0'],
        correctIndex: 0,
        successOutput: '[OK] Memory limit updated: 512Mi â†’ 1Gi\n[OK] Pods rolling update in progress.\nOOM kills: 47 â†’ 0',
        failureOutput: 'ë©”ëª¨ë¦¬ ì œí•œì„ ë³€ê²½í•˜ë ¤ë©´ kubectl set resourcesë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'cloud_06',
    incidentType: 'misconfiguration',
    category: 'cloud',
    title: 'Service Mesh ì¥ì•  ëŒ€ì‘',
    description: 'Istio sidecar proxyê°€ íŠ¸ë˜í”½ì„ ì°¨ë‹¨í•˜ê³  ìˆìŠµë‹ˆë‹¤!',
    emoji: 'ğŸ•¸ï¸',
    steps: [
      {
        prompt: 'sidecar ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ istioctl proxy-status', '$ kubectl get pods -l app=istio', '$ curl localhost:15000/stats'],
        correctIndex: 0,
        successOutput: 'NAME                    CDS    LDS    EDS    RDS\napi-server-7b4d.prod    STALE  STALE  SYNCED STALE\nâ† ì„¤ì • ë™ê¸°í™” ì‹¤íŒ¨!',
        failureOutput: 'sidecar ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ istioctl proxy-statusë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'sidecarë¥¼ ì¬ì£¼ì…í•˜ì„¸ìš”:',
        options: ['$ kubectl rollout restart deployment/api-server -n production', '$ istioctl uninstall', '$ kubectl delete pods --all -n production'],
        correctIndex: 0,
        successOutput: '[OK] Deployment restarted with fresh sidecar.\nProxy status: SYNCED\nService mesh communication restored!',
        failureOutput: 'sidecarë¥¼ ì¬ì£¼ì…í•˜ë ¤ë©´ deploymentë¥¼ ì¬ì‹œì‘í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'cloud_07',
    incidentType: 'misconfiguration',
    category: 'cloud',
    title: 'Load Balancer í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨',
    description: 'LB í—¬ìŠ¤ì²´í¬ê°€ ì‹¤íŒ¨í•˜ì—¬ ë°±ì—”ë“œê°€ ì œì™¸ë˜ê³  ìˆìŠµë‹ˆë‹¤!',
    emoji: 'âš–ï¸',
    steps: [
      {
        prompt: 'í—¬ìŠ¤ì²´í¬ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ kubectl describe service api-lb | grep -A5 "Endpoints"', '$ curl http://api-lb/health', '$ kubectl get endpoints'],
        correctIndex: 0,
        successOutput: 'Endpoints:\n  NotReadyAddresses:\n    10.0.0.5:8080 (api-server-x2f)  â† í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨!\n    10.0.0.6:8080 (api-server-k9m)  â† í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨!\nReady: <none>  â† ì‚¬ìš© ê°€ëŠ¥í•œ ë°±ì—”ë“œ ì—†ìŒ!',
        failureOutput: 'ì„œë¹„ìŠ¤ ì—”ë“œí¬ì¸íŠ¸ë¥¼ í™•ì¸í•˜ë ¤ë©´ describe serviceë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'í—¬ìŠ¤ì²´í¬ ê²½ë¡œë¥¼ ìˆ˜ì •í•˜ì„¸ìš”:',
        options: ['$ kubectl patch deployment api-server -p \'{"spec":{"template":{"spec":{"containers":[{"name":"api","readinessProbe":{"httpGet":{"path":"/healthz","port":8080}}}]}}}}\'', '$ kubectl delete service api-lb', '$ kubectl scale deployment api-server --replicas=0'],
        correctIndex: 0,
        successOutput: '[OK] Readiness probe updated: /health â†’ /healthz\n[OK] Endpoints ready: 2/2\nLoad balancer serving traffic!',
        failureOutput: 'í—¬ìŠ¤ì²´í¬ ê²½ë¡œë¥¼ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'cloud_08',
    incidentType: 'overload',
    category: 'cloud',
    title: 'Resource Quota ì´ˆê³¼',
    description: 'ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë¦¬ì†ŒìŠ¤ í• ë‹¹ëŸ‰ì„ ì´ˆê³¼í•˜ì—¬ Pod ìƒì„±ì´ ë¶ˆê°€í•©ë‹ˆë‹¤!',
    emoji: 'ğŸ“‹',
    steps: [
      {
        prompt: 'ë¦¬ì†ŒìŠ¤ í• ë‹¹ëŸ‰ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ kubectl describe resourcequota -n production', '$ kubectl get namespaces', '$ kubectl api-resources'],
        correctIndex: 0,
        successOutput: 'Name:       production-quota\nResource    Used    Hard\ncpu         3900m   4000m  â† 97.5%!\nmemory      15.2Gi  16Gi   â† 95%!\npods        48      50     â† 96%!',
        failureOutput: 'ë¦¬ì†ŒìŠ¤ í• ë‹¹ëŸ‰ì„ í™•ì¸í•˜ë ¤ë©´ describe resourcequotaë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ë¶ˆí•„ìš”í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•˜ì„¸ìš”:',
        options: ['$ kubectl delete pods --field-selector=status.phase=Failed -n production && kubectl delete jobs --field-selector=status.successful=1 -n production', '$ kubectl delete namespace production', '$ kubectl delete resourcequota production-quota -n production'],
        correctIndex: 0,
        successOutput: '[OK] 12 failed pods cleaned up.\n[OK] 8 completed jobs removed.\nResource usage: CPU 97% â†’ 65%, Memory 95% â†’ 72%',
        failureOutput: 'ì‹¤íŒ¨í•œ Podì™€ ì™„ë£Œëœ Jobì„ ì •ë¦¬í•˜ì„¸ìš”.',
      },
    ],
  },
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ MONITORING (7) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 'mon_01',
    incidentType: 'misconfiguration',
    category: 'monitoring',
    title: 'ì•Œë¦¼ ì„ê³„ê°’ ì¡°ì •',
    description: 'ì˜ëª»ëœ ì•Œë¦¼ ì„ê³„ê°’ìœ¼ë¡œ false positive ì•Œë¦¼ì´ í­ì£¼í•©ë‹ˆë‹¤!',
    emoji: 'ğŸ””',
    steps: [
      {
        prompt: 'í˜„ì¬ ì•Œë¦¼ ê·œì¹™ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ cat /etc/prometheus/rules/alerts.yml', '$ systemctl status alertmanager', '$ curl localhost:9093/api/v1/alerts'],
        correctIndex: 0,
        successOutput: '- alert: HighCPU\n  expr: cpu_usage > 10    â† 10%?! ë„ˆë¬´ ë‚®ìŒ!\n  for: 1m\n- alert: DiskFull\n  expr: disk_usage > 50   â† 50%?! ë„ˆë¬´ ë‚®ìŒ!\nâ† ê³¼ë„í•œ ì•Œë¦¼ ë°œìƒ ì›ì¸',
        failureOutput: 'ì•Œë¦¼ ê·œì¹™ì„ í™•ì¸í•˜ë ¤ë©´ alerts.yml íŒŒì¼ì„ ë³´ì„¸ìš”.',
      },
      {
        prompt: 'ì ì ˆí•œ ì„ê³„ê°’ìœ¼ë¡œ ìˆ˜ì •í•˜ì„¸ìš”:',
        options: ['$ sed -i "s/cpu_usage > 10/cpu_usage > 85/; s/disk_usage > 50/disk_usage > 90/" /etc/prometheus/rules/alerts.yml && promtool check rules /etc/prometheus/rules/alerts.yml', '$ rm /etc/prometheus/rules/alerts.yml', '$ systemctl stop alertmanager'],
        correctIndex: 0,
        successOutput: '[OK] CPU threshold: 10% â†’ 85%\n[OK] Disk threshold: 50% â†’ 90%\n[OK] Rules validation passed.\nFalse positive alerts eliminated!',
        failureOutput: 'ì•Œë¦¼ ì„ê³„ê°’ì„ ì ì ˆí•˜ê²Œ ìˆ˜ì •í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'mon_02',
    incidentType: 'misconfiguration',
    category: 'monitoring',
    title: 'ëŒ€ì‹œë³´ë“œ ë³µêµ¬',
    description: 'Grafana ëŒ€ì‹œë³´ë“œê°€ ê¹¨ì ¸ì„œ ëª¨ë‹ˆí„°ë§ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤!',
    emoji: 'ğŸ“Š',
    steps: [
      {
        prompt: 'Grafana ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ curl -s localhost:3000/api/health', '$ systemctl status grafana-server', '$ ls /var/lib/grafana'],
        correctIndex: 0,
        successOutput: '{"database":"ok","version":"10.2.0"}\nBUT: /var/lib/grafana/grafana.db â†’ CORRUPTED!\nâ† ëŒ€ì‹œë³´ë“œ DB ì†ìƒ!',
        failureOutput: 'Grafana ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ health APIë¥¼ í˜¸ì¶œí•˜ì„¸ìš”.',
      },
      {
        prompt: 'ë°±ì—…ì—ì„œ ëŒ€ì‹œë³´ë“œ DBë¥¼ ë³µì›í•˜ì„¸ìš”:',
        options: ['$ systemctl stop grafana-server && cp /backup/grafana.db /var/lib/grafana/grafana.db && systemctl start grafana-server', '$ rm /var/lib/grafana/grafana.db', '$ grafana-cli admin reset-admin-password admin'],
        correctIndex: 0,
        successOutput: '[OK] Grafana stopped.\n[OK] Database restored from backup.\n[OK] Grafana started.\nAll dashboards recovered!',
        failureOutput: 'ë°±ì—…ì—ì„œ DB íŒŒì¼ì„ ë³µì›í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'mon_03',
    incidentType: 'overload',
    category: 'monitoring',
    title: 'ë©”íŠ¸ë¦­ íŒŒì´í”„ë¼ì¸ ì¥ì• ',
    description: 'ë©”íŠ¸ë¦­ ìˆ˜ì§‘ íŒŒì´í”„ë¼ì¸ì´ ì¤‘ë‹¨ë˜ì–´ ëª¨ë‹ˆí„°ë§ ê³µë°±ì´ ë°œìƒí•©ë‹ˆë‹¤!',
    emoji: 'ğŸ”§',
    steps: [
      {
        prompt: 'Prometheus ìˆ˜ì§‘ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ curl -s localhost:9090/api/v1/targets | jq ".data.activeTargets[] | select(.health != \\"up\\")"', '$ systemctl status prometheus', '$ cat /etc/prometheus/prometheus.yml'],
        correctIndex: 0,
        successOutput: '{"target":"node-exporter:9100","health":"down","lastError":"connection refused"}\n{"target":"cadvisor:8080","health":"down","lastError":"timeout"}\nâ† 2ê°œ íƒ€ê²Ÿ ìˆ˜ì§‘ ì‹¤íŒ¨!',
        failureOutput: 'Prometheus íƒ€ê²Ÿ ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ targets APIë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ë‹¤ìš´ëœ exporterë¥¼ ì¬ì‹œì‘í•˜ì„¸ìš”:',
        options: ['$ systemctl restart node-exporter cadvisor && curl -s localhost:9090/-/reload', '$ systemctl stop prometheus', '$ rm -rf /var/lib/prometheus/data'],
        correctIndex: 0,
        successOutput: '[OK] node-exporter restarted.\n[OK] cadvisor restarted.\n[OK] Prometheus config reloaded.\nAll targets: UP',
        failureOutput: 'exporterë¥¼ ì¬ì‹œì‘í•˜ê³  Prometheusë¥¼ ë¦¬ë¡œë“œí•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'mon_04',
    incidentType: 'overload',
    category: 'monitoring',
    title: 'ë¡œê·¸ ë¡œí…Œì´ì…˜ ì¥ì• ',
    description: 'ë¡œê·¸ ë¡œí…Œì´ì…˜ì´ ì‹¤íŒ¨í•˜ì—¬ ë””ìŠ¤í¬ê°€ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤!',
    emoji: 'ğŸ“',
    steps: [
      {
        prompt: 'ë¡œê·¸ íŒŒì¼ í¬ê¸°ë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ du -sh /var/log/* | sort -rh | head -10', '$ cat /var/log/syslog', '$ logrotate --version'],
        correctIndex: 0,
        successOutput: '45G   /var/log/nginx/access.log  â† 45GB!\n12G   /var/log/app/debug.log     â† 12GB!\n8G    /var/log/syslog\n/dev/sda1: 98% used!',
        failureOutput: 'ë¡œê·¸ íŒŒì¼ í¬ê¸°ë¥¼ í™•ì¸í•˜ë ¤ë©´ du -shë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ëŒ€ìš©ëŸ‰ ë¡œê·¸ë¥¼ ì •ë¦¬í•˜ê³  ë¡œí…Œì´ì…˜ì„ ê°•ì œ ì‹¤í–‰í•˜ì„¸ìš”:',
        options: ['$ truncate -s 0 /var/log/nginx/access.log /var/log/app/debug.log && logrotate -f /etc/logrotate.conf', '$ rm -rf /var/log/*', '$ shutdown -h now'],
        correctIndex: 0,
        successOutput: '[OK] access.log truncated: 45G â†’ 0\n[OK] debug.log truncated: 12G â†’ 0\n[OK] Log rotation executed.\nDisk usage: 98% â†’ 41%',
        failureOutput: 'ë¡œê·¸ë¥¼ truncateí•˜ê³  logrotateë¥¼ ê°•ì œ ì‹¤í–‰í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'mon_05',
    incidentType: 'misconfiguration',
    category: 'monitoring',
    title: 'Prometheus íƒ€ê²Ÿ ëˆ„ë½',
    description: 'ìƒˆë¡œ ë°°í¬ëœ ì„œë¹„ìŠ¤ê°€ Prometheus íƒ€ê²Ÿì— ë“±ë¡ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!',
    emoji: 'ğŸ¯',
    steps: [
      {
        prompt: 'í˜„ì¬ scrape ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ cat /etc/prometheus/prometheus.yml | grep -A5 "scrape_configs"', '$ prometheus --version', '$ curl localhost:9090/metrics'],
        correctIndex: 0,
        successOutput: 'scrape_configs:\n  - job_name: "api"\n    static_configs:\n      - targets: ["api:8080"]\nâ† payment-service:8080 ëˆ„ë½!\nâ† notification-service:8080 ëˆ„ë½!',
        failureOutput: 'scrape ì„¤ì •ì„ í™•ì¸í•˜ë ¤ë©´ prometheus.ymlì„ ë³´ì„¸ìš”.',
      },
      {
        prompt: 'ëˆ„ë½ëœ íƒ€ê²Ÿì„ ì¶”ê°€í•˜ê³  ë¦¬ë¡œë“œí•˜ì„¸ìš”:',
        options: ['$ echo \'  - job_name: "payment"\\n    static_configs:\\n      - targets: ["payment:8080","notification:8080"]\' >> /etc/prometheus/prometheus.yml && curl -X POST localhost:9090/-/reload', '$ systemctl restart prometheus', '$ rm /etc/prometheus/prometheus.yml'],
        correctIndex: 0,
        successOutput: '[OK] Targets added: payment:8080, notification:8080\n[OK] Prometheus reloaded.\nAll services now monitored!',
        failureOutput: 'ëˆ„ë½ëœ íƒ€ê²Ÿì„ ì¶”ê°€í•˜ê³  Prometheusë¥¼ ë¦¬ë¡œë“œí•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'mon_06',
    incidentType: 'misconfiguration',
    category: 'monitoring',
    title: 'Grafana ë°ì´í„°ì†ŒìŠ¤ ì—°ê²° ì˜¤ë¥˜',
    description: 'Grafanaì—ì„œ Prometheus ë°ì´í„°ì†ŒìŠ¤ ì—°ê²°ì´ ëŠì–´ì¡ŒìŠµë‹ˆë‹¤!',
    emoji: 'ğŸ”—',
    steps: [
      {
        prompt: 'ë°ì´í„°ì†ŒìŠ¤ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ curl -s -u admin:admin localhost:3000/api/datasources', '$ grafana-cli plugins ls', '$ cat /etc/grafana/grafana.ini'],
        correctIndex: 0,
        successOutput: '[{"name":"Prometheus","url":"http://prometheus:9090","access":"proxy","isDefault":true}]\nBUT: Connection test â†’ FAILED\nâ† Prometheus URLì´ ë³€ê²½ë¨! ìƒˆ ì£¼ì†Œ: http://prometheus.monitoring:9090',
        failureOutput: 'ë°ì´í„°ì†ŒìŠ¤ë¥¼ í™•ì¸í•˜ë ¤ë©´ Grafana APIë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ë°ì´í„°ì†ŒìŠ¤ URLì„ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”:',
        options: ['$ curl -X PUT -u admin:admin -H "Content-Type: application/json" -d \'{"url":"http://prometheus.monitoring:9090"}\' localhost:3000/api/datasources/1', '$ systemctl restart grafana-server', '$ grafana-cli admin reset-admin-password'],
        correctIndex: 0,
        successOutput: '[OK] Datasource URL updated.\nConnection test: SUCCESS\nGrafana dashboards showing live data!',
        failureOutput: 'ë°ì´í„°ì†ŒìŠ¤ URLì„ APIë¡œ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'mon_07',
    incidentType: 'misconfiguration',
    category: 'monitoring',
    title: 'SNMP Trap ìˆ˜ì‹  ì¥ì• ',
    description: 'SNMP trap receiverê°€ ë‹¤ìš´ë˜ì–´ ë„¤íŠ¸ì›Œí¬ ì¥ë¹„ ì•Œë¦¼ì„ ë°›ì§€ ëª»í•©ë‹ˆë‹¤!',
    emoji: 'ğŸ“¡',
    steps: [
      {
        prompt: 'SNMP trap ì„œë¹„ìŠ¤ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ systemctl status snmptrapd', '$ snmpwalk -v2c -c public localhost', '$ netstat -ulnp | grep 162'],
        correctIndex: 0,
        successOutput: 'â— snmptrapd.service - SNMP Trap Daemon\n   Active: failed (Result: exit-code)\n   Error: "config file parse error at line 23"\nâ† ì„¤ì • íŒŒì¼ ì˜¤ë¥˜ë¡œ ì¤‘ë‹¨!',
        failureOutput: 'SNMP trap ì„œë¹„ìŠ¤ ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ systemctl statusë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ì„¤ì •ì„ ìˆ˜ì •í•˜ê³  ì„œë¹„ìŠ¤ë¥¼ ì¬ì‹œì‘í•˜ì„¸ìš”:',
        options: ['$ sed -i "23d" /etc/snmp/snmptrapd.conf && systemctl restart snmptrapd', '$ apt remove snmpd', '$ rm /etc/snmp/snmptrapd.conf'],
        correctIndex: 0,
        successOutput: '[OK] Config error fixed (line 23 removed).\n[OK] snmptrapd restarted.\nListening on UDP:162\nSNMP traps now being received!',
        failureOutput: 'ì„¤ì • ì˜¤ë¥˜ë¥¼ ìˆ˜ì •í•˜ê³  ì„œë¹„ìŠ¤ë¥¼ ì¬ì‹œì‘í•˜ì„¸ìš”.',
      },
    ],
  },
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ GENERAL (7) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 'gen_01',
    incidentType: 'rm_rf',
    category: 'general',
    title: 'ë°±ì—… ë³µì›',
    description: 'ëˆ„êµ°ê°€ rm -rf /ë¥¼ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤!!! ë°±ì—…ì—ì„œ ë³µêµ¬í•˜ì„¸ìš”!',
    emoji: 'ğŸ’€',
    steps: [
      {
        prompt: 'ë°±ì—… íŒŒì¼ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ ls /backup', '$ rm -rf /backup', '$ echo "help"'],
        correctIndex: 0,
        successOutput: 'full-backup-20250201.tar.gz  228GB\nfull-backup-20250131.tar.gz  225GB\nincremental-20250201.tar.gz   12GB',
        failureOutput: 'ë°±ì—… ë””ë ‰í† ë¦¬ì˜ íŒŒì¼ì„ í™•ì¸í•˜ë ¤ë©´ lsë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ìµœì‹  ë°±ì—…ì„ ë³µêµ¬í•˜ì„¸ìš”:',
        options: ['$ tar xzf /backup/full-backup-20250201.tar.gz -C /', '$ cp /backup/* /', '$ mv /backup /'],
        correctIndex: 0,
        successOutput: 'Extracting full-backup-20250201.tar.gz...\n[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%\n[OK] System restored from backup!',
        failureOutput: 'ë°±ì—…ì„ ë³µêµ¬í•˜ë ¤ë©´ tar xzfë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'gen_02',
    incidentType: 'power_outage',
    category: 'general',
    title: 'UPS Failover ëŒ€ì‘',
    description: 'UPS ë°°í„°ë¦¬ë¡œ ì „í™˜ ì¤‘... ë¹„í•„ìˆ˜ ì„œë¹„ìŠ¤ë¥¼ ì¤‘ë‹¨í•´ì•¼ í•©ë‹ˆë‹¤!',
    emoji: 'âš¡',
    steps: [
      {
        prompt: 'UPS ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ apcaccess status', '$ uptime', '$ dmesg | tail'],
        correctIndex: 0,
        successOutput: 'STATUS   : ONBATT\nBATTERY  : 34.2%\nTIMELEFT : 12.5 Minutes\nLOADPCT  : 87.3%',
        failureOutput: 'UPS ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ apcaccess statusë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ë¹„í•„ìˆ˜ ì„œë¹„ìŠ¤ë¥¼ ì¤‘ë‹¨í•˜ì—¬ ì „ë ¥ ì ˆì•½:',
        options: ['$ systemctl stop jenkins grafana prometheus', '$ halt', '$ init 0'],
        correctIndex: 0,
        successOutput: '[OK] jenkins.service stopped\n[OK] grafana.service stopped\n[OK] prometheus.service stopped\nLOADPCT: 87.3% â†’ 41.2%',
        failureOutput: 'ì„œë¹„ìŠ¤ë¥¼ ì•ˆì „í•˜ê²Œ ì¤‘ë‹¨í•˜ë ¤ë©´ systemctl stopì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'gen_03',
    incidentType: 'power_outage',
    category: 'general',
    title: 'ë¹„ìƒ ì „ì› ì „í™˜',
    description: 'ë©”ì¸ ì „ì›ì´ ë³µêµ¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤! ë°œì „ê¸° ì „í™˜ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    emoji: 'ğŸ”‹',
    steps: [
      {
        prompt: 'ë°œì „ê¸° ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ ipmitool power status', '$ cat /sys/class/power_supply/BAT0/status', '$ uptime'],
        correctIndex: 0,
        successOutput: 'Chassis Power: ON (UPS)\nGenerator: STANDBY (ready)\nFuel Level: 92%\nUPS Battery: 15% (est. 4 min remaining!)',
        failureOutput: 'ì „ì› ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ ipmitool power statusë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ë°œì „ê¸°ë¡œ ì „ì›ì„ ì „í™˜í•˜ì„¸ìš”:',
        options: ['$ ipmitool raw 0x30 0x01 0x01 && echo "ATS: switching to generator"', '$ shutdown -h now', '$ reboot'],
        correctIndex: 0,
        successOutput: '[OK] ATS (Automatic Transfer Switch) activated.\n[OK] Power source: UPS â†’ Generator\nGenerator running at 60Hz. Power stable!',
        failureOutput: 'ë°œì „ê¸°ë¡œ ì „í™˜í•˜ë ¤ë©´ ipmitool raw ëª…ë ¹ì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'gen_04',
    incidentType: 'rm_rf',
    category: 'general',
    title: 'íŒŒì¼ì‹œìŠ¤í…œ ë³µêµ¬',
    description: 'íŒŒì¼ì‹œìŠ¤í…œ ì˜¤ë¥˜ë¡œ ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤!',
    emoji: 'ğŸ—‚ï¸',
    steps: [
      {
        prompt: 'íŒŒì¼ì‹œìŠ¤í…œ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ dmesg | grep -i "error\\|corrupt\\|filesystem"', '$ mount', '$ lsblk'],
        correctIndex: 0,
        successOutput: '[14:01:03] EXT4-fs error: /dev/sda2 has corrupt superblock\n[14:01:03] EXT4-fs: Remounting filesystem read-only\nâ† íŒŒì¼ì‹œìŠ¤í…œ ì†ìƒë¨!',
        failureOutput: 'íŒŒì¼ì‹œìŠ¤í…œ ì˜¤ë¥˜ë¥¼ í™•ì¸í•˜ë ¤ë©´ dmesgë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'íŒŒì¼ì‹œìŠ¤í…œì„ ë³µêµ¬í•˜ì„¸ìš”:',
        options: ['$ umount /dev/sda2 && e2fsck -y /dev/sda2 && mount /dev/sda2 /data', '$ mkfs.ext4 /dev/sda2', '$ dd if=/dev/zero of=/dev/sda2'],
        correctIndex: 0,
        successOutput: '[OK] /dev/sda2 unmounted.\n[OK] e2fsck: 12 inodes fixed, 3 blocks recovered.\n[OK] /dev/sda2 mounted on /data.\nFilesystem restored!',
        failureOutput: 'íŒŒì¼ì‹œìŠ¤í…œì„ ë³µêµ¬í•˜ë ¤ë©´ e2fsckë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'gen_05',
    incidentType: 'cable_cut',
    category: 'general',
    title: 'ì¼€ì´ë¸” ì ˆë‹¨ ëŒ€ì‘',
    description: 'ë„¤íŠ¸ì›Œí¬ ì¼€ì´ë¸”ì´ ì ˆë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤! ëŒ€ì²´ ê²½ë¡œë¥¼ ì„¤ì •í•˜ì„¸ìš”.',
    emoji: 'âœ‚ï¸',
    steps: [
      {
        prompt: 'ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ ip link show', '$ cat /etc/network', '$ hostname'],
        correctIndex: 0,
        successOutput: '1: lo: <LOOPBACK,UP> mtu 65536\n2: eth0: <NO-CARRIER,BROADCAST> mtu 1500  â† DOWN!\n3: eth1: <BROADCAST,UP> mtu 1500',
        failureOutput: 'ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¸í•˜ë ¤ë©´ ip link showë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'ë°±ì—… ì¸í„°í˜ì´ìŠ¤(eth1)ë¡œ ëŒ€ì²´ ê²½ë¡œë¥¼ ì„¤ì •í•˜ì„¸ìš”:',
        options: ['$ ip route add default via 10.0.1.1 dev eth1', '$ ifconfig eth0 up', '$ ping 8.8.8.8'],
        correctIndex: 0,
        successOutput: '[OK] Default route via eth1 added.\nNetwork connectivity restored!',
        failureOutput: 'ëŒ€ì²´ ê²½ë¡œë¥¼ ì¶”ê°€í•˜ë ¤ë©´ ip route addë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'gen_06',
    incidentType: 'cable_cut',
    category: 'general',
    title: 'RAID ë¦¬ë¹Œë“œ',
    description: 'RAID ì–´ë ˆì´ì—ì„œ ë””ìŠ¤í¬ ì¥ì• ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤! êµì²´ê°€ í•„ìš”í•©ë‹ˆë‹¤.',
    emoji: 'ğŸ’½',
    steps: [
      {
        prompt: 'RAID ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ cat /proc/mdstat', '$ fdisk -l', '$ smartctl -a /dev/sda'],
        correctIndex: 0,
        successOutput: 'md0 : active raid5 sda1[0] sdb1[1] sdc1[2](F)\n      2TB blocks [3/2] [UU_]\nâ† sdc1 FAILED! RAID degraded!',
        failureOutput: 'RAID ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ /proc/mdstatë¥¼ ë³´ì„¸ìš”.',
      },
      {
        prompt: 'ì¥ì•  ë””ìŠ¤í¬ë¥¼ êµì²´í•˜ê³  ë¦¬ë¹Œë“œí•˜ì„¸ìš”:',
        options: ['$ mdadm --manage /dev/md0 --remove /dev/sdc1 && mdadm --manage /dev/md0 --add /dev/sdd1', '$ mdadm --stop /dev/md0', '$ dd if=/dev/sda of=/dev/sdd'],
        correctIndex: 0,
        successOutput: '[OK] /dev/sdc1 removed from array.\n[OK] /dev/sdd1 added to array.\nmd0: rebuild started [>....] 0.1%\nRAID rebuild in progress!',
        failureOutput: 'ì¥ì•  ë””ìŠ¤í¬ë¥¼ ì œê±°í•˜ê³  ìƒˆ ë””ìŠ¤í¬ë¥¼ ì¶”ê°€í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'gen_07',
    incidentType: 'misconfiguration',
    category: 'general',
    title: 'NTP ë™ê¸°í™” ì˜¤ë¥˜ ìˆ˜ì •',
    description: 'ì‹œìŠ¤í…œ ì‹œê°„ì´ 5ë¶„ ì´ìƒ ì–´ê¸‹ë‚˜ ì¸ì¦ê³¼ ë¡œê·¸ì— ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤!',
    emoji: 'ğŸ•',
    steps: [
      {
        prompt: 'ì‹œê°„ ë™ê¸°í™” ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ timedatectl status', '$ date', '$ hwclock --show'],
        correctIndex: 0,
        successOutput: 'System clock synchronized: no\nNTP service: inactive\nRTC time: Mon 2025-02-03 14:32:00\nUTC time: Mon 2025-02-03 14:37:15\nâ† 5ë¶„ 15ì´ˆ ì˜¤ì°¨!',
        failureOutput: 'ì‹œê°„ ë™ê¸°í™” ìƒíƒœë¥¼ í™•ì¸í•˜ë ¤ë©´ timedatectlì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'NTPë¥¼ í™œì„±í™”í•˜ê³  ì‹œê°„ì„ ë™ê¸°í™”í•˜ì„¸ìš”:',
        options: ['$ systemctl start systemd-timesyncd && timedatectl set-ntp true', '$ date -s "2025-02-03 14:32:00"', '$ hwclock --hctosys'],
        correctIndex: 0,
        successOutput: '[OK] NTP service started.\n[OK] Time synchronized with pool.ntp.org.\nSystem clock synchronized: yes\nOffset: 0.003s',
        failureOutput: 'NTPë¥¼ í™œì„±í™”í•˜ë ¤ë©´ timedatectl set-ntp trueë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ EXTRA OVERLOAD (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 'gen_08',
    incidentType: 'overload',
    category: 'general',
    title: 'CPU ê³¼ë¶€í•˜ ëŒ€ì‘',
    description: 'CPU ì‚¬ìš©ë¥ ì´ 99%ì— ë„ë‹¬í–ˆìŠµë‹ˆë‹¤! ì›ì¸ì„ ì°¾ê³  ì¡°ì¹˜í•˜ì„¸ìš”.',
    emoji: 'ğŸ”¥',
    steps: [
      {
        prompt: 'CPUë¥¼ ë§ì´ ì“°ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ top', '$ ls -la', '$ ping localhost'],
        correctIndex: 0,
        successOutput: 'PID 4821  99.2% CPU  /usr/bin/runaway-process\nPID 1     0.1% CPU  /sbin/init',
        failureOutput: 'ì´ ëª…ë ¹ì–´ë¡œëŠ” CPU ì‚¬ìš©ëŸ‰ì„ í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
      },
      {
        prompt: 'ë¬¸ì œ í”„ë¡œì„¸ìŠ¤(PID 4821)ë¥¼ ì¢…ë£Œí•˜ì„¸ìš”:',
        options: ['$ kill -9 4821', '$ rm -f 4821', '$ chmod 000 4821'],
        correctIndex: 0,
        successOutput: '[OK] Process 4821 terminated.\nCPU usage dropped to 3.2%',
        failureOutput: 'í”„ë¡œì„¸ìŠ¤ë¥¼ ì¢…ë£Œí•˜ë ¤ë©´ kill ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.',
      },
    ],
  },
  {
    id: 'gen_09',
    incidentType: 'memory_leak',
    category: 'general',
    title: 'ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ëŒ€ì‘',
    description: 'ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë¹„ì •ìƒì ìœ¼ë¡œ ì¦ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤!',
    emoji: 'ğŸ’§',
    steps: [
      {
        prompt: 'í˜„ì¬ ë©”ëª¨ë¦¬ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ free -h', '$ df -h', '$ uname -a'],
        correctIndex: 0,
        successOutput: '              total    used    free\nMem:           16Gi   15.8Gi  200Mi\nSwap:          4Gi    3.9Gi   100Mi',
        failureOutput: 'ì´ ëª…ë ¹ì–´ë¡œëŠ” ë©”ëª¨ë¦¬ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
      },
      {
        prompt: 'ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ì›ì¸ ì„œë¹„ìŠ¤ë¥¼ ì¬ì‹œì‘í•˜ì„¸ìš”:',
        options: ['$ systemctl restart app-server', '$ reboot now', '$ echo "restart"'],
        correctIndex: 0,
        successOutput: '[OK] app-server.service restarted.\nMemory usage: 16Gi â†’ 2.1Gi',
        failureOutput: 'ì„œë¹„ìŠ¤ë¥¼ ì¬ì‹œì‘í•˜ë ¤ë©´ systemctl restartë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
  {
    id: 'gen_10',
    incidentType: 'rm_rf',
    category: 'general',
    title: 'ë¶€íŠ¸ ë³µêµ¬',
    description: 'GRUB ë¶€íŠ¸ë¡œë”ê°€ ì†ìƒë˜ì–´ ì‹œìŠ¤í…œì´ ë¶€íŒ…ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤!',
    emoji: 'ğŸ–¥ï¸',
    steps: [
      {
        prompt: 'ë¶€íŠ¸ íŒŒí‹°ì…˜ì„ í™•ì¸í•˜ì„¸ìš”:',
        options: ['$ fdisk -l /dev/sda', '$ cat /boot/grub/grub.cfg', '$ mount'],
        correctIndex: 0,
        successOutput: '/dev/sda1  *  2048  1024000  512M  EFI System\n/dev/sda2     1024001  500GB  Linux filesystem\nâ† EFI íŒŒí‹°ì…˜ ì¡´ì¬ í™•ì¸',
        failureOutput: 'íŒŒí‹°ì…˜ì„ í™•ì¸í•˜ë ¤ë©´ fdisk -lì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
      {
        prompt: 'GRUBì„ ì¬ì„¤ì¹˜í•˜ì„¸ìš”:',
        options: ['$ grub-install /dev/sda && update-grub', '$ dd if=/dev/zero of=/dev/sda bs=512 count=1', '$ mkfs.ext4 /dev/sda1'],
        correctIndex: 0,
        successOutput: '[OK] GRUB installed to /dev/sda.\n[OK] grub.cfg updated.\nBoot loader restored! System will boot normally.',
        failureOutput: 'GRUBì„ ì¬ì„¤ì¹˜í•˜ë ¤ë©´ grub-installì„ ì‚¬ìš©í•˜ì„¸ìš”.',
      },
    ],
  },
];

export function getRandomTemplate(incidentType: string): ChallengeTemplate | null {
  const matching = CHALLENGE_TEMPLATES.filter(t => t.incidentType === incidentType);
  if (matching.length === 0) return null;
  return matching[Math.floor(Math.random() * matching.length)];
}

export function getTemplateById(id: string): ChallengeTemplate | null {
  return CHALLENGE_TEMPLATES.find(t => t.id === id) ?? null;
}
